"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[1851],{94232:(I,C,r)=>{r.d(C,{O:()=>U});var n=r(32057),m=r(11798),p=r(9120),d=r(17631);const E=[[["",8,"imagecontent"]]],F=[".ImageContent"];function u(t,o){if(1&t){const e=n.RV6();n.qex(0,19),n.bIt("OnComboChange",function(c){n.eBV(e);const a=n.XpG(4);return n.Njj(a._OnComboChange(c))})("OnPListChange",function(c){n.eBV(e);const a=n.XpG(4);return n.Njj(a._OnPListChange(c))}),n.bVm()}if(2&t){const e=n.XpG(2).$implicit,i=n.XpG(2);n.Y8G("obj",e)("group",i.ScreenObject.form)}}function f(t,o){if(1&t&&(n.j41(0,"div",17),n.EFF(1,"\n                "),n.DNE(2,u,1,2,"ng-container",18),n.EFF(3,"\n              "),n.k0s()),2&t){const e=n.XpG().$implicit,i=n.XpG(2);n.Y8G("ngStyle",i.getStyles(e)),n.R7$(2),n.Y8G("ngIf",e.Visible)}}function s(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n              "),n.DNE(2,f,4,2,"div",16),n.EFF(3,"\n            "),n.bVm()),2&t){const e=o.$implicit;n.R7$(2),n.Y8G("ngIf",e.Visible)}}function _(t,o){if(1&t&&(n.j41(0,"div",20),n.EFF(1,"\n              "),n.SdG(2),n.EFF(3,"\n            "),n.k0s()),2&t){const e=n.XpG(2);n.xc7("height",60*e.ImageControl.RowSpan,"px"),n.Y8G("ngStyle",e.getStyles(e.ImageControl))}}function l(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n          "),n.j41(2,"div",14),n.EFF(3,"\n            "),n.EFF(4,"\n            "),n.EFF(5,"\n            "),n.DNE(6,s,4,1,"ng-container",12),n.EFF(7,"\n            "),n.DNE(8,_,4,3,"div",15),n.EFF(9,"\n          "),n.k0s(),n.EFF(10,"\n        "),n.bVm()),2&t){const e=n.XpG();n.R7$(6),n.Y8G("ngForOf",e.AssignedFiels),n.R7$(2),n.Y8G("ngIf",e.ScreenObject.ImageVisibility)}}function g(t,o){if(1&t&&n.eu8(0,28),2&t){const e=n.XpG(2).$implicit,i=n.XpG(4);n.Y8G("obj",e)("group",i.ScreenObject.form)}}function b(t,o){if(1&t&&(n.j41(0,"div",26),n.EFF(1,"\n              "),n.DNE(2,g,1,2,"ng-container",27),n.EFF(3,"\n            "),n.k0s()),2&t){const e=n.XpG().$implicit;n.STu("form-group col-xl-",3*e.ColumnSpan,"  col-md-",6*e.ColumnSpan," col-sm-12 col-xs-12 PACTControl"),n.R7$(2),n.Y8G("ngIf",e.Visible)}}function h(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n            "),n.DNE(2,b,4,5,"div",25),n.EFF(3,"\n          "),n.bVm()),2&t){const e=o.$implicit;n.R7$(2),n.Y8G("ngIf",e&&e.Visible)}}function S(t,o){if(1&t&&(n.j41(0,"div",24),n.EFF(1,"\n          "),n.DNE(2,h,4,1,"ng-container",12),n.EFF(3,"\n        "),n.k0s()),2&t){const e=n.XpG(2).$implicit;n.R7$(2),n.Y8G("ngForOf",e.Fields)}}function v(t,o){if(1&t){const e=n.RV6();n.j41(0,"accordion",22),n.EFF(1,"\n      "),n.j41(2,"accordion-group",7),n.bIt("isOpenChange",function(c){n.eBV(e);const a=n.XpG().$implicit;return n.Njj(a.IsAccordionOpen=c)}),n.EFF(3,"\n        "),n.j41(4,"div",8),n.EFF(5,"\n          "),n.j41(6,"span",9),n.EFF(7),n.k0s(),n.EFF(8,"\n          "),n.nrm(9,"span",10,0),n.EFF(11,"\n          "),n.EFF(12,"\n        "),n.k0s(),n.EFF(13,"\n        "),n.DNE(14,S,4,1,"div",23),n.EFF(15,"\n      "),n.k0s(),n.EFF(16,"\n    "),n.k0s()}if(2&t){const e=n.XpG().$implicit;n.R7$(2),n.Y8G("isOpen",e.IsAccordionOpen),n.R7$(5),n.JRh(e.Header),n.R7$(2),n.AVh("fa-chevron-down",e.IsAccordionOpen)("fa-chevron-up",!e.IsAccordionOpen),n.R7$(5),n.Y8G("ngIf",null!=e.Fields&&e.Fields.length>0)}}function T(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n    "),n.DNE(2,v,17,7,"accordion",21),n.EFF(3,"\n  "),n.bVm()),2&t){const e=o.$implicit;n.R7$(2),n.Y8G("ngIf",e.Visible&&2==e.TabType)}}function j(t,o){if(1&t&&n.eu8(0,28),2&t){const e=n.XpG(2).$implicit,i=n.XpG(5);n.Y8G("obj",e)("group",i.ScreenObject.form)}}function G(t,o){if(1&t&&(n.j41(0,"div",26),n.EFF(1,"\n                "),n.DNE(2,j,1,2,"ng-container",27),n.EFF(3,"\n              "),n.k0s()),2&t){const e=n.XpG().$implicit;n.ZWY("form-group col-xl-",3*e.ColumnSpan,"  col-md-",6*e.ColumnSpan," col-sm-",12*e.ColumnSpan," col-xs-12 PACTControl"),n.R7$(2),n.Y8G("ngIf",e.Visible)}}function D(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n              "),n.DNE(2,G,4,6,"div",25),n.EFF(3,"\n            "),n.bVm()),2&t){const e=o.$implicit;n.R7$(2),n.Y8G("ngIf",e&&e.Visible)}}function M(t,o){if(1&t&&(n.j41(0,"div",36),n.EFF(1,"\n            "),n.DNE(2,D,4,1,"ng-container",12),n.EFF(3,"\n          "),n.k0s()),2&t){const e=n.XpG(2).$implicit;n.R7$(2),n.Y8G("ngForOf",e.Fields)}}function R(t,o){if(1&t){const e=n.RV6();n.j41(0,"tab",34),n.bIt("selectTab",function(){n.eBV(e);const c=n.XpG().$implicit,a=n.XpG(2);return n.Njj(a.onSelectTab(c))}),n.EFF(1,"\n          "),n.DNE(2,M,4,1,"div",35),n.EFF(3,"\n        "),n.k0s()}if(2&t){const e=n.XpG().$implicit;n.Y8G("heading",e.Header)("removable",!1),n.R7$(2),n.Y8G("ngIf",null!=e.Fields&&e.Fields.length>0)}}function x(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n        "),n.EFF(2,"\n        "),n.DNE(3,R,4,3,"tab",33),n.EFF(4,"\n      "),n.bVm()),2&t){const e=o.$implicit;n.R7$(3),n.Y8G("ngIf",e.Visible&&1==e.TabType&&e.Enable)}}function $(t,o){if(1&t){const e=n.RV6();n.j41(0,"div",29,3),n.EFF(2,"\n    "),n.j41(3,"tabset",30),n.EFF(4,"\n      "),n.DNE(5,x,5,1,"ng-container",12),n.EFF(6,"\n    "),n.k0s(),n.EFF(7,"\n    "),n.j41(8,"div",31),n.EFF(9,"\n      "),n.j41(10,"span",32,4),n.bIt("click",function(){n.eBV(e);const c=n.sdS(1),a=n.XpG();return n.Njj(a.onclicktoggle(c))}),n.k0s(),n.EFF(12,"\n    "),n.k0s(),n.EFF(13,"\n  "),n.k0s()}if(2&t){const e=n.XpG();n.R7$(5),n.Y8G("ngForOf",e.ScreenObject.CustomTab.Pages),n.R7$(5),n.AVh("fa-chevron-down",e.IsTabOpen)("fa-chevron-up",!e.IsTabOpen)}}function A(t,o){if(1&t&&n.eu8(0,28),2&t){const e=n.XpG(2).$implicit,i=n.XpG(5);n.Y8G("obj",e)("group",i.ScreenObject.form)}}function P(t,o){if(1&t&&(n.j41(0,"div",26),n.EFF(1,"\n                "),n.DNE(2,A,1,2,"ng-container",27),n.EFF(3,"\n              "),n.k0s()),2&t){const e=n.XpG().$implicit;n.STu("form-group col-xl-",3*e.ColumnSpan,"  col-md-",6*e.ColumnSpan," col-sm-12 col-xs-12 PACTControl"),n.R7$(2),n.Y8G("ngIf",e.Visible)}}function V(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n              "),n.DNE(2,P,4,5,"div",25),n.EFF(3,"\n            "),n.bVm()),2&t){const e=o.$implicit;n.R7$(2),n.Y8G("ngIf",e&&e.Visible)}}function N(t,o){if(1&t&&(n.j41(0,"div",24),n.EFF(1,"\n            "),n.DNE(2,V,4,1,"ng-container",12),n.EFF(3,"\n          "),n.k0s()),2&t){const e=n.XpG(2).$implicit;n.R7$(2),n.Y8G("ngForOf",e.Fields)}}function w(t,o){if(1&t){const e=n.RV6();n.j41(0,"accordion",22),n.EFF(1,"\n        "),n.j41(2,"accordion-group",7),n.bIt("isOpenChange",function(c){n.eBV(e);const a=n.XpG().$implicit;return n.Njj(a.IsAccordionMobileOpen=c)}),n.EFF(3,"\n          "),n.j41(4,"div",8),n.EFF(5,"\n            "),n.j41(6,"span",9),n.EFF(7),n.k0s(),n.EFF(8,"\n            "),n.nrm(9,"span",10,0),n.EFF(11,"\n            "),n.EFF(12,"\n          "),n.k0s(),n.EFF(13,"\n          "),n.DNE(14,N,4,1,"div",23),n.EFF(15,"\n        "),n.k0s(),n.EFF(16,"\n      "),n.k0s()}if(2&t){const e=n.XpG().$implicit;n.R7$(2),n.Y8G("isOpen",e.IsAccordionMobileOpen),n.R7$(5),n.JRh(e.Header),n.R7$(2),n.AVh("fa-chevron-down",e.IsAccordionMobileOpen)("fa-chevron-up",!e.IsAccordionMobileOpen),n.R7$(5),n.Y8G("ngIf",null!=e.Fields&&e.Fields.length>0)}}function k(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n      \n      "),n.DNE(2,w,17,7,"accordion",21),n.EFF(3,"\n\n    "),n.bVm()),2&t){const e=o.$implicit;n.R7$(2),n.Y8G("ngIf",e.Visible&&1==e.TabType)}}function Y(t,o){if(1&t&&(n.EFF(0,"\n    "),n.DNE(1,k,4,1,"ng-container",12),n.EFF(2,"\n  ")),2&t){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",e.ScreenObject.CustomTab.Pages)}}function X(t,o){if(1&t){const e=n.RV6();n.qex(0,19),n.bIt("OnComboChange",function(c){n.eBV(e);const a=n.XpG(4);return n.Njj(a._OnComboChange(c))})("OnPListChange",function(c){n.eBV(e);const a=n.XpG(4);return n.Njj(a._OnPListChange(c))}),n.bVm()}if(2&t){const e=n.XpG(2).$implicit,i=n.XpG(2);n.Y8G("obj",e)("group",i.ScreenObject.form)}}function y(t,o){if(1&t&&(n.j41(0,"div"),n.EFF(1,"\n          "),n.DNE(2,X,1,2,"ng-container",18),n.EFF(3,"\n        "),n.k0s()),2&t){const e=n.XpG().$implicit;n.STu("form-group col-xl-",3*e.ColumnSpan,"  col-md-",6*e.ColumnSpan," col-sm-12 col-xs-12 PACTControl"),n.R7$(2),n.Y8G("ngIf",e.Visible)}}function B(t,o){if(1&t&&(n.qex(0),n.EFF(1,"\n        "),n.DNE(2,y,4,5,"div",38),n.EFF(3,"\n      "),n.bVm()),2&t){const e=o.$implicit;n.R7$(2),n.Y8G("ngIf",e.Visible)}}function L(t,o){if(1&t&&(n.EFF(0,"\n    "),n.j41(1,"div",37),n.EFF(2,"\n      "),n.EFF(3,"\n      "),n.EFF(4,"\n      "),n.DNE(5,B,4,1,"ng-container",12),n.EFF(6,"\n    "),n.k0s(),n.EFF(7,"\n  ")),2&t){const e=n.XpG();n.R7$(5),n.Y8G("ngForOf",e.AssignedFiels)}}let U=(()=>{class t{get IsMobile(){return p.d.IsMobile}constructor(){this.OnComboChange=new n.bkB,this.OnPListChange=new n.bkB,this.OnTabChangeMaster=new n.bkB,this.IsTabOpen=!0,this.IsAccordionOpen=!0,this.IsAccordionMobileOpen=!1,this.ImageControl=null,this.IsView=!1}ngOnInit(){this.AssignedFiels=null!=this.ScreenObject.HeaderFields&&this.ScreenObject.HeaderFields.length>0?this.ScreenObject.HeaderFields.filter(i=>!(null!=i.SectionID&&"0"!=i.SectionID||i instanceof d.BR)):this.ScreenObject.StaticFields.filter(i=>!(null!=i.SectionID&&"0"!=i.SectionID||i instanceof d.BR)),this.ImageControl=this.ScreenObject.HeaderFields.find(i=>i instanceof d.BR),this.ScreenObject.form=new m.gE({})}onaccordionchange(e){this.IsAccordionOpen=e}_OnComboChange(e){this.OnComboChange.emit(e)}_OnPListChange(e){this.OnPListChange.emit(e)}getStyles(e){return{gridColumnStart:`${parseInt(e.Column)+1}`,gridColumnEnd:`span ${e.ColumnSpan}`,gridRowStart:`${parseInt(e.Row)+1}`,gridRowEnd:`span ${e.RowSpan}`}}onclicktoggle(e){const i=e.getElementsByClassName("tab-content");this.IsTabOpen=!this.IsTabOpen,this.IsTabOpen?Array.from(i).forEach(c=>{c.style.display="block"}):Array.from(i).forEach(c=>{c.style.display="none"})}onSelectTab(e){e.Fields.length>0&&(e.Fields.forEach(i=>{i.angularGrid&&i.angularGrid.resizerService.resizeGrid()}),p.d.page.RefreshSlickGridUI()),this.ScreenObject&&this.ScreenObject.CustomTab&&(this.ScreenObject.CustomTab.SelectedTab=e),this.ScreenObject.CustomTab.OnTabChange.IsSubscribed&&this.ScreenObject.CustomTab.OnTabChange.Call(this.ScreenObject.CustomTab)}EditClick(){if(this.ScreenObject.StaticFields.forEach(e=>{e.Enable=this.IsView}),2==this.ScreenObject.CostCenterID){let e=this.ScreenObject.StaticFields.find(i=>248==i.DBColumnID);e&&e.txtcomb&&(e.txtcomb.Enable=e.Enable),e=this.ScreenObject.StaticFields.find(i=>7081==i.DBColumnID),e&&e.txtcomb&&(e.txtcomb.Enable=e.Enable)}console.log(this.ScreenObject.StaticFields),this.ScreenObject.CustomTab.Pages.forEach(e=>{e.Fields.forEach(i=>{i.Enable=this.IsView})}),this.IsView=!this.IsView}static#n=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275cmp=n.VBU({type:t,selectors:[["app-master-screen"]],inputs:{ScreenObject:"ScreenObject"},outputs:{OnComboChange:"OnComboChange",OnPListChange:"OnPListChange",OnTabChangeMaster:"OnTabChangeMaster"},ngContentSelectors:F,decls:33,vars:13,consts:[["btnCollapseheader",""],["MobileView",""],["MobileHeaderFields",""],["TabHeaderField",""],["btnCollapse",""],[1,"master_container",3,"formGroup"],[1,"section"],["panelClass","row form-row",3,"isOpenChange","isOpen"],["accordion-heading","",1,"collapse_tabfields"],[1,"btn","btn-link"],[1,"fa","pull-right","btn-tab-icon",2,"line-height","36px","color","white","position","relative","left","-10px","float","right","background","none","border","none"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["class","PACTTabFields section tab_content tab-exrafields custom_accordion","style","display: flex;",4,"ngIf","ngIfElse"],[1,"PACTHeaderFields","row","form-row",2,"display","grid","width","100%","height","100%","grid-template-columns","25% 25% 25% 25%"],[3,"ngStyle","height",4,"ngIf"],["class","form-group PACTControl",3,"ngStyle",4,"ngIf"],[1,"form-group","PACTControl",3,"ngStyle"],["FieldDirective","",3,"obj","group","OnComboChange","OnPListChange",4,"ngIf"],["FieldDirective","",3,"OnComboChange","OnPListChange","obj","group"],[3,"ngStyle"],["class","PACTTabFields tab_content tab-exrafields section",4,"ngIf"],[1,"PACTTabFields","tab_content","tab-exrafields","section"],["class","PACTHeaderFields  form-row row",4,"ngIf"],[1,"PACTHeaderFields","form-row","row"],["attr.Control","c",3,"class",4,"ngIf"],["attr.Control","c"],["FieldDirective","",3,"obj","group",4,"ngIf"],["FieldDirective","",3,"obj","group"],[1,"PACTTabFields","section","tab_content","tab-exrafields","custom_accordion",2,"display","flex"],[1,"master-tab-container",2,"width","100%"],[1,"collapse_tabfields",2,"width","0px"],[1,"fa",2,"line-height","35px","position","relative","left","-22px","background","none","border","none","color","white",3,"click"],[3,"heading","removable","selectTab",4,"ngIf"],[3,"selectTab","heading","removable"],["class","form-row row",4,"ngIf"],[1,"form-row","row"],[1,"PACTHeaderFields","row","form-row"],[3,"class",4,"ngIf"]],template:function(i,c){if(1&i){const a=n.RV6();n.NAR(E),n.j41(0,"div",5),n.EFF(1,"\n  "),n.EFF(2,"\n  "),n.j41(3,"div",6),n.EFF(4,"\n    "),n.j41(5,"accordion"),n.EFF(6,"\n      "),n.j41(7,"accordion-group",7),n.bIt("isOpenChange",function(H){return n.eBV(a),n.Njj(c.onaccordionchange(H))}),n.EFF(8,"\n        "),n.j41(9,"div",8),n.EFF(10,"\n          "),n.j41(11,"span",9),n.EFF(12,"Primary Information"),n.k0s(),n.EFF(13,"\n          "),n.nrm(14,"span",10,0),n.EFF(16,"\n        "),n.k0s(),n.EFF(17,"\n        "),n.DNE(18,l,11,2,"ng-container",11),n.EFF(19,"\n      "),n.k0s(),n.EFF(20,"\n    "),n.k0s(),n.EFF(21,"\n  "),n.k0s(),n.EFF(22,"\n  "),n.DNE(23,T,4,1,"ng-container",12),n.EFF(24,"\n\n  "),n.DNE(25,$,14,5,"div",13),n.EFF(26,"\n  "),n.DNE(27,Y,3,1,"ng-template",null,1,n.C5r),n.EFF(29,"\n\n\n  "),n.DNE(30,L,8,1,"ng-template",null,2,n.C5r),n.EFF(32,"\n"),n.k0s()}if(2&i){const a=n.sdS(28),O=n.sdS(31);n.AVh("Mbl_masterScreen",c.IsMobile),n.Y8G("formGroup",c.ScreenObject.form),n.R7$(7),n.Y8G("isOpen",c.IsAccordionOpen),n.R7$(7),n.AVh("fa-chevron-down",c.IsAccordionOpen)("fa-chevron-up",!c.IsAccordionOpen),n.R7$(4),n.Y8G("ngIf",!c.IsMobile)("ngIfElse",O),n.R7$(5),n.Y8G("ngForOf",c.ScreenObject.CustomTab.Pages),n.R7$(2),n.Y8G("ngIf",c.ScreenObject.CustomTab.Tabs.length>0&&!c.IsMobile)("ngIfElse",a)}}})}return t})()},17631:(I,C,r)=>{r.d(C,{BR:()=>E,YH:()=>F,cV:()=>u});var n=r(10467),m=r(4050),p=r(9120),d=r(82636);class E extends m.MI{constructor(){super()}}class F extends m.MI{constructor(s){super(),this.SaveCostCenter=new m.Yk,this.FileExtension="",this.FileID=0,this.IsDelete=!1,this.IsImageSaved=!1,this.IsChanged=!1,this.Createfile=!0,this.ActualFileName="",this.Allowinprint=!1,this.FolderPath="",this.ClassName="PactAttachmentData",this.isSignature=!1,this.VisibleRadioButton=!1,this.rdoCamera=!0,this.rdoImage=!1,this.SaveVisible=!1,this.OkVisible=!1,this.ActivityDrawView=!1,this.DBColumnID=s,this.SaveCostCenter.Subscribe(this,"OnSaveCostCenter")}OnSaveCostCenter(s){if("View"==s)""!=this.guid&&p.d.page.ShowDialog({guid:this.guid.split(".")[0],FileExtension:this.FileExtension,FolderPath:this.FolderPath},d.J,{ShowCenter:!0,Title:"Preview Image"});else if(s instanceof Object){let _;if(0==s.srcElement.files[0].length)return void alert("No file selected");s.srcElement.files[0].type.match("image"),_=s.target.files[0].name.split("."),_.length>1&&(this.FileExtension=_[_.length-1]),this.ActualFileName=s.target.files[0].name,this.AccountPhoto=s.target.files[0].name;let l=s.target.files[0];const g=new FileReader;g.onload=b=>{const h=new Image;h.src=b.target.result,h.onload=S=>{this.ImgFile=b.target.result,s.srcElement.value=""}},g.readAsDataURL(l),""!=this.ImgFile&&setTimeout(()=>{this.getGuid(l)},100),this.IsChanged=!0}else"Delete"==s&&(this.IsDelete=!0,this.guid="",this.AccountPhoto="",this.ActualFileName="",this.IsChanged=!1)}getGuid(s){var _=this;return(0,n.A)(function*(){let l=new FormData;l.append("ImageUpload",s),l.append("FileUpload",s),l.append("UserName",p.d.SessionManager.UserID),l.append("FolderPath",_.FolderPath);let g=yield p.d.common.UploadAttachmentsAsync(l);_.guid=g})()}}class u extends F{constructor(){super(...arguments),this.IsSignAvail=!1}StrokCOllect_StrokesChanged(s,_){}}}}]);