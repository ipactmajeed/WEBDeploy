"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[9273],{81654:(E,D,n)=>{n.r(D),n.d(D,{UnAppDocumentsViewModel:()=>a});var m=n(10467),h=n(27329),o=n(9120),M=n(58111),l=n(31168);class a{constructor(){this.LocationID="",Logger.InfoLog("UnAppDocumentsViewModel:: Entering UnAppDocumentsViewModel");try{this.DocumentsGrid=new h.vv,this.DocumentsGrid.Width="",this.DocumentsGrid.OnLinkClick.Subscribe(this,"OnLinkClickEvent"),this.DocumentsGrid.Columns=M.GeneralDashboardViewModel.InitColumns("Un Approved Documents_DashBoardCustomize"),this.LocationID=o.d.SessionManager.Preferences.ContainsKey("EnableLocationWise")&&"True"==o.d.SessionManager.Preferences.EnableLocationWise.toString()?o.d.SessionManager.LocationID>0?o.d.SessionManager.LocationID.toString():o.d.SessionManager.LocationWhere:"0",this.OnLoad()}catch(s){Logger.ErrorLog("UnAppDocumentsViewModel","Constructor",s)}Logger.InfoLog("UnAppDocumentsViewModel:: Entering UnAppDocumentsViewModel")}OnLoad(){o.d.document.GetUnApprovedDocuments(this.LocationID,371).subscribe(s=>{let e=s.Tables[0];e?.forEach(t=>{t.id=o.d.slick.rowid,t.Date_Text=l.J0.ParseDate(t.DocDate).ToString(o.d.SessionManager.Preferences["Date Format"]),""!=t.ModifiedDate.toString()&&(t.MDate_Text=l.J0.ParseDate(t.ModifiedDate).ToString("hh:mm"))}),this.DocumentsGrid.Table=e})}OnLinkClickEvent(s,e,t){var L=this;return(0,m.A)(function*(){try{if("95"!=s.CostCenterID.toString()){const{DocumentViewerViewModel:i}=yield Promise.all([n.e(9924),n.e(1940),n.e(1851),n.e(8986),n.e(2993),n.e(333),n.e(44),n.e(6411),n.e(3540),n.e(5275),n.e(6833),n.e(855),n.e(7541),n.e(3495),n.e(2963),n.e(1206),n.e(2298),n.e(4784),n.e(220),n.e(6716),n.e(5744),n.e(6762),n.e(126),n.e(2409),n.e(4935),n.e(617),n.e(6395),n.e(4892),n.e(3018),n.e(9183),n.e(2076)]).then(n.bind(n,51607)),{DocumentViewerComponent:g}=yield n.e(2076).then(n.bind(n,21375));let d=new i;d.DocumentViewerViewModel_Document(L.DocumentsGrid,s,e),d.IsDocumentFound&&o.d.page.addNewTab({component:g,params:{obj:d}})}}catch(i){Logger.ErrorLog("UnAppDocumentsViewModel","OnLinkClickEvent",i)}})()}}}}]);